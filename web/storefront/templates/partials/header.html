{{define "partials/header.html"}}
<header class="site-header">
    <!-- Top Bar -->
    <div class="top-bar">
        <div class="container">
            <div class="top-bar-content">
                <div class="top-bar-left">
                    <span><i class="fa fa-phone"></i> 1-800-555-0199</span>
                    <span><i class="fa fa-envelope"></i> support@broadleaf.com</span>
                </div>
                <div class="top-bar-right">
                    {{if .User}}
                    <a href="/account"><i class="fa fa-user"></i> {{.User.Name}}</a>
                    <a href="/logout"><i class="fa fa-sign-out"></i> Logout</a>
                    {{else}}
                    <a href="/login"><i class="fa fa-sign-in"></i> Login</a>
                    <a href="/register"><i class="fa fa-user-plus"></i> Register</a>
                    {{end}}
                </div>
            </div>
        </div>
    </div>

    <!-- Main Header -->
    <div class="main-header">
        <div class="container">
            <div class="header-content">
                <!-- Logo -->
                <div class="site-logo">
                    <a href="/">
                        <img src="/static/storefront/img/logo.png" alt="{{.SiteName}}">
                    </a>
                </div>

                <!-- Search -->
                <div class="header-search">
                    <form action="/search" method="get">
                        <div class="input-group">
                            <input type="text" class="form-control" name="q" placeholder="Search products..." value="{{.SearchQuery}}">
                            <button class="btn btn-primary" type="submit">
                                <i class="fa fa-search"></i>
                            </button>
                        </div>
                    </form>
                </div>

                <!-- Cart -->
                <div class="header-cart">
                    <a href="/cart" class="cart-link">
                        <i class="fa fa-shopping-cart"></i>
                        <span class="cart-count">{{.Cart.ItemCount}}</span>
                        <span class="cart-total">${{printf "%.2f" .Cart.Total}}</span>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="main-nav">
        <div class="container">
            <ul class="nav-menu">
                <li><a href="/" {{if eq .ActivePage "home"}}class="active"{{end}}>Home</a></li>
                {{range .Categories}}
                <li class="has-dropdown">
                    <a href="/category/{{.URL}}" {{if eq $.ActiveCategory .ID}}class="active"{{end}}>
                        {{.Name}}
                    </a>
                    {{if .Children}}
                    <ul class="dropdown-menu">
                        {{range .Children}}
                        <li><a href="/category/{{.URL}}">{{.Name}}</a></li>
                        {{end}}
                    </ul>
                    {{end}}
                </li>
                {{end}}
                <li><a href="/deals" {{if eq .ActivePage "deals"}}class="active"{{end}}>Deals</a></li>
                <li><a href="/contact" {{if eq .ActivePage "contact"}}class="active"{{end}}>Contact</a></li>
            </ul>
        </div>
    </nav>
</header>
{{end}}
